<div class="uk-container">

  <div uk-grid>
  </div>

  <div uk-grid>
    <div class="uk-width-1-4 uk-text-center">
      <%= attachment_image_tag user, :profile_image, fallback: "no-user-image.png",size:'200x200', class: "uk-border-circle user-show-image",alt: "Border circle", id: "profileImage" %>
    </div>

    <div class="uk-width-expand uk-position-relative">
      <%# タブ %>
      <%= render "users/tab", user: user %>
    </div>
  </div>  

  <div uk-grid class="uk-margin-remove-top">
    <div class="uk-width-1-4 uk-text-center">
        <%# ユーザ名 %>
        <span class="margin-top-and-bottom-10px uk-display-inline-block"><%= user.user_name %></span>
        <%# プロフィール %>
        <span class="margin-10px uk-display-inline-block font-size-12px"><%= simple_format(user.profile) %></span>

        <%# プロフィール編集ボタン %>
        <% if user_signed_in? && (current_user.id == user.id) %>
            <%= link_to (edit_user_path),class:"uk-button uk-button-default uk-width-5-6" do %>
              <span uk-icon="icon: file-edit; ratio: 1"></span>
              <span>プロフィールを編集</span>
            <% end %>
           
        <%# フォローボタン %>
        <% else %>
          <span id="follow-button-<%= user.id %>" class="follow-button uk-width-5-6 uk-margin-top uk-inline uk-display-inline-block">
            <%= render "relationships/follow_button", user: user %>
          </span>
        <% end %>  

    </div>

    <div class="uk-width-expand uk-padding-remove-left" id="ajax-partial">

      <%# render元のactionがshowもしくはfavoritesの場合、記事一覧を表示　%>
      <% if controller.action_name.in?(['show','favorites']) %>
        <%= render partial: 'users/articles', collection: articles, as: :article %>

      <%# render元のactionが上記以外（＝followers, following）の場合、ユーザ一覧を表示%>
      <% else %>
        <%= render partial: 'users/related_users', collection: related_users, as: :related_user %>
      <% end %>  
    </div>

  </div>
</div>